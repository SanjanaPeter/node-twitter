{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/var/www/html/node-twitter/client/pages/index.js\";\nimport React from \"react\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport FetchApi from './../helper/fetchApi';\nimport Layout from './../components/layout/layout';\nimport './../static/signup.css';\nvar user_icon = './../static/name.png';\nvar FRONT_PANEL_DOMAIN = \"http://localhost:3000/\"; //import { login } from '../utils/auth'\n\nvar Index = /*#__PURE__*/function (_Component) {\n  _inherits(Index, _Component);\n\n  var _super = _createSuper(Index);\n\n  _createClass(Index, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var req = _ref.req;\n      return \"Join twitter\";\n    }\n  }]);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTermCheckBox\", function (e) {\n      // console.log('eventt=====', e, e.currentTarget.value)\n      _this.setState({\n        terms: !_this.state.terms\n      });\n    });\n\n    _this.state = {\n      email: '',\n      password: '',\n      error: '',\n      loginApi: '/login'\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(event) {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }, {\n    key: \"handleTextChange\",\n    value: function handleTextChange(name, event) {\n      this.setState(_defineProperty({}, name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var email, password;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                email = this.state.email;\n\n                if (!(email.value === \"\")) {\n                  _context.next = 6;\n                  break;\n                }\n\n                window.alert(\"Please enter your email.\");\n                email.focus();\n                return _context.abrupt(\"return\", false);\n\n              case 6:\n                password = this.state.password;\n                _context.prev = 7;\n                _context.next = 10;\n                return FetchApi.fetchApiServerSide(this.state.loginApi, 'POST', {\n                  email: email,\n                  password: password\n                }).then(function (response) {\n                  var data = response.data;\n                  var profile_page = data ? data.profile_page : '/';\n                  Router.push(profile_page);\n                });\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](7);\n                console.error('You have an error in your code or there are Network issues.', _context.t0); //throw new Error(error)\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[7, 12]]);\n      }));\n\n      function handleSubmit(_x) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"handleSignIn\",\n    value: function () {\n      var _handleSignIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function handleSignIn() {\n        return _handleSignIn.apply(this, arguments);\n      }\n\n      return handleSignIn;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, \"Login to Web App\")), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"login-help\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, \"Forgot your password? \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 36\n        }\n      }, \"Click here to reset it\"), \".\"))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":{"version":3,"sources":["/var/www/html/node-twitter/client/pages/index.js"],"names":["Component","fetch","FetchApi","Layout","user_icon","FRONT_PANEL_DOMAIN","Index","req","props","e","setState","terms","state","email","password","error","loginApi","handleChange","bind","handlePasswordChange","handleSubmit","event","target","value","name","preventDefault","window","alert","focus","fetchApiServerSide","then","response","data","profile_page","Router","push","console"],"mappings":";;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAO,wBAAP;AACA,IAAMC,SAAS,GAAG,sBAAlB;AACA,IAAMC,kBAAkB,GAAG,wBAA3B,C,CACA;;IAEMC,K;;;;;;;0CAC6B;AAAA,UAAPC,GAAO,QAAPA,GAAO;AAC/B,aAAO,cAAP;AACD;;;AAED,iBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;;AADkB,yEAsDC,UAACC,CAAD,EAAO;AAC1B;AACA,YAAKC,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAE,CAAC,MAAKC,KAAL,CAAWD;AAArB,OAAd;AACD,KAzDmB;;AAGlB,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAC,EAFE;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAOA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BD,IAA1B,+BAA5B;AACA,UAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB;AAZkB;AAanB;;;;iCAEaG,K,EAAO;AACnB,WAAKX,QAAL,CAAc;AAAEG,QAAAA,KAAK,EAAEQ,KAAK,CAACC,MAAN,CAAaC;AAAtB,OAAd;AACD;;;yCAEqBF,K,EAAO;AAC3B,WAAKX,QAAL,CAAc;AAAEI,QAAAA,QAAQ,EAAEO,KAAK,CAACC,MAAN,CAAaC;AAAzB,OAAd;AACD;;;qCAEgBC,I,EAAMH,K,EAAO;AAC5B,WAAKX,QAAL,qBAAiBc,IAAjB,EAAwBH,KAAK,CAACC,MAAN,CAAaC,KAArC;AACD;;;;oGAEmBF,K;;;;;;AAClBA,gBAAAA,KAAK,CAACI,cAAN;AACMZ,gBAAAA,K,GAAQ,KAAKD,KAAL,CAAWC,K;;sBACrBA,KAAK,CAACU,KAAN,KAAgB,E;;;;;AAClBG,gBAAAA,MAAM,CAACC,KAAP,CAAa,0BAAb;AACAd,gBAAAA,KAAK,CAACe,KAAN;iDACO,K;;;AAEHd,gBAAAA,Q,GAAW,KAAKF,KAAL,CAAWE,Q;;;uBAGpBZ,QAAQ,CAAC2B,kBAAT,CAA4B,KAAKjB,KAAL,CAAWI,QAAvC,EAAiD,MAAjD,EAAyD;AAACH,kBAAAA,KAAK,EAACA,KAAP;AAAcC,kBAAAA,QAAQ,EAACA;AAAvB,iBAAzD,EACLgB,IADK,CACA,UAAAC,QAAQ,EAAI;AAChB,sBAAIC,IAAI,GAAGD,QAAQ,CAACC,IAApB;AACA,sBAAIC,YAAY,GAAID,IAAD,GAAOA,IAAI,CAACC,YAAZ,GAAyB,GAA5C;AACAC,kBAAAA,MAAM,CAACC,IAAP,CAAYF,YAAZ;AACD,iBALK,C;;;;;;;;;AAONG,gBAAAA,OAAO,CAACrB,KAAR,CAAc,6DAAd,e,CACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6BAaM;AACR,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADA,eAIA;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAyB;AAAG,QAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAzB,MADF,CAJA,CADF,CADF;AAYD;;;;EA7EiBf,S;;AAgFpB,eAAeM,KAAf","sourcesContent":["import { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport FetchApi from './../helper/fetchApi';\nimport Layout from './../components/layout/layout';\nimport './../static/signup.css';\nconst user_icon = './../static/name.png';\nconst FRONT_PANEL_DOMAIN = \"http://localhost:3000/\";\n//import { login } from '../utils/auth'\n\nclass Index extends Component {\n  static getInitialProps ({ req }) {\n    return \"Join twitter\";\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.state = { \n      email: '', \n      password:'', \n      error: '',\n      loginApi: '/login'\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange (event) {\n    this.setState({ email: event.target.value })\n  }\n\n  handlePasswordChange (event) {\n    this.setState({ password: event.target.value })\n  }\n\n  handleTextChange(name, event) {\n    this.setState({ [name]: event.target.value })\n  }\n\n  async handleSubmit (event) {\n    event.preventDefault()\n    const email = this.state.email;\n    if (email.value === \"\") {\n      window.alert(\"Please enter your email.\");\n      email.focus();\n      return false;\n    }\n    const password = this.state.password;\n\n    try {\n      await FetchApi.fetchApiServerSide(this.state.loginApi, 'POST', {email:email, password:password})\n      .then(response => {\n        var data = response.data;\n        var profile_page = (data)?data.profile_page:'/';\n        Router.push(profile_page);\n      })\n    } catch (error) {\n      console.error('You have an error in your code or there are Network issues.', error)\n      //throw new Error(error)\n    }\n  }\n\n  async handleSignIn(){\n\n  }\n\n  handleTermCheckBox = (e) => {\n    // console.log('eventt=====', e, e.currentTarget.value)\n    this.setState({ terms: !this.state.terms });\n  };\n\n  render () {\n    return (\n      <div>\n        <Layout>\n        <div className=\"login\">\n          <h1>Login to Web App</h1>\n        </div>\n        <div class=\"login-help\">\n          <p>Forgot your password? <a href=\"#\">Click here to reset it</a>.</p>\n        </div>\n        </Layout>\n      </div>\n    )\n  }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}